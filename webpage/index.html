<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Blindazon</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <!-- <link href="vendor/style.css" rel="stylesheet"> -->
 

</head>

<body>
    <header class="bg-success text-white">
        <div class="container text-center">
            <h1>Blindazon</h1>
            <p class="lead">Now "Everyone" can Shop</p>
        </div>
    </header>

    <div id="total">
        <section>
            <div style="padding-block-end: 10px;" class="container bg-dark text-white">

                <div class="row" style="padding-block-end:5px; padding-inline: 100px;">
                    <div class="col-lg-12 mx-auto">
                        <div class="span9 btn-block">
                            <h2 align="center" id="brand1">CLOTHING</h2>
                            <button style="padding:50px; background-color: brown;"
                                onclick="window.location.href='/page2'" type="button"
                                class="btn btn-primary btn-lg btn-block" id="button1">text is read aloud to click this
                                button</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="footware">
            <div style="padding-block-end: 10px;" class="container bg-dark text-white">

                <div class="row">
                    <div class="col-lg-12 mx-auto">
                        <div class="span9 btn-block">
                            <h2 align="center" id="brand2">FOOTWARE</h2>
                            <button style="padding:50px; background-color: brown;"
                                onclick="window.location.href='/page2'" type="button"
                                class="btn btn-primary btn-lg btn-block" id="button2">text is read aloud to click this
                                button</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="grocery">
            <div style="padding-block-end: 10px; " class="container bg-dark text-white">

                <div class="row">
                    <div class="col-lg-12 mx-auto">
                        <div class="span9 btn-block">
                            <h2 align="center" id="brand3">GROCERY</h2>
                            <button style="padding:50px; background-color: brown;"
                                onclick="window.location.href='/page2'" type="button"
                                class="btn btn-primary btn-lg btn-block" id="button3">text is read aloud to click this
                                button</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section id="electronic">
            <div style="margin-bottom: 10px; padding-block-end: 20px;" class="container bg-dark text-white">

                <div class="row">
                    <div class="col-lg-12 mx-auto">
                        <div class="span9 btn-block">
                            <h2 align="center" id="brand4">ELECTRONIC</h2>
                            <button style="padding:50px; background-color: brown;"
                                onclick="window.location.href='/page2'" type="button"
                                class="btn btn-primary btn-lg btn-block" id="button4">text is read aloud to click this
                                button</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <p id="maintext"></p>
    </div>




    <footer class="py-5 bg-success">
        <div class="container">
            <p class="m-0 text-center text-white">Copyright &copy; Your Website 2019</p>
        </div>

    </footer>


</body>

<script>
    var i=0;
    
    const synth = window.speechSynthesis;
    const speak = () => {

        // If the speech mode is on we dont want to load 
        // another speech 
        //if(synth.speaking) { 
        //alert('Already speaking....'); 
        //  return; 
        //}
        if (textarea.value !== '') {

            // Creating an object of SpeechSynthesisUtterance with 
            // the input value that represents a speech request 
            const speakText = new SpeechSynthesisUtterance(textarea.value);

            // When the speaking is ended this method is fired 
            speakText.onend = e => {
                console.log('Speaking is done!');
            };

            // When any error occurs this method is fired 
            speakText.error = e => {
                console.error('Error occured...');
            };

            // Selecting the voice for the speech from the selection DOM 
            //const id = voice_select.selectedIndex; 
            //const selectedVoice = value.name; 

            // Checking which voices has been chosen from the selection 
            // and setting the voice to the chosen voice 
            //voices.forEach(voice => { 
            //	if(voice.name === selectedVoice) { 
            //		speakText.voice = voice; 
            //	} 
            //}); 

            // Setting the rate and pitch of the voice 
            speakText.rate = 1; //rate.value; 
            speakText.pitch = 50;// pitch.value; 
            speakText.lang = 'en-US';

            // Finally calling the speech function that enables speech 
            synth.speak(speakText);
        }
    }
    const total = document.getElementById('total');

    const textarea = document.getElementById('maintext');
    //for(var i=1;i<=4;i++)
    //{
    //    temp = "brand"+i;
    //    brand=document.getElementById(temp);
    //    textarea.value=brand.innerHTML;
    //    speak();
    //}


    var hasGP = false;
    var repGP;

    function canGame() {
        return "getGamepads" in navigator;
    }

    function reportOnGamepad() {
        var gp = navigator.getGamepads()[0];
        var html = "";
        html += "id: " + gp.id + "<br/>";

        if (gp.buttons[4].pressed) {
            console.log("L1")
            speak();

            //for(var i=1;i<=4;i++)
            //{
            //    temp = "brand"+i;
            //    brand=document.getElementById(temp);
            //    textarea.value=brand.innerHTML;
            //    speak();
        }


        if (gp.buttons[5].pressed) {
            temp = "brand" + i;
            brand = document.getElementById(temp)
            console.log("R1");
            textarea.value = "You have chosen "+brand.innerHTML;
            speak();
            if(i==1)
            {
                window.location.href='https://www.amazon.in/';
            }
            if(i==2)
            {
                window.location.href='https://www.amazon.in/';
            }
            if(i==3)
            {
                window.location.href='https://www.amazon.in/';
            }
            if(i==4)
            {
                window.location.href='https://www.amazon.in/';
            }



        }
        if (gp.buttons[6].pressed) {
            console.log("L2");
            decrease();
            speak();
        }
        if (gp.buttons[7].pressed) {
            console.log("R2");
            increase();
            speak();
        }



        $("#gamepadDisplay").html(html);

    }
    $(document).ready(function () {

        if (canGame()) {

            var prompt = "To begin using your gamepad, connect it and press any button!";
            $("#gamepadPrompt").text(prompt);

            $(window).on("gamepadconnected", function () {
                hasGP = true;
                $("#gamepadPrompt").html("Gamepad connected!");
                console.log("connection event");
                repGP = window.setInterval(reportOnGamepad, 100);
                // reportOnGamepad();
            });

            $(window).on("gamepaddisconnected", function () {
                console.log("disconnection event");
                $("#gamepadPrompt").text(prompt);
                window.clearInterval(repGP);
            });

            //setup an interval for Chrome
            var checkGP = window.setInterval(function () {
                console.log('checkGP');
                if (navigator.getGamepads()[0]) {
                    if (!hasGP) $(window).trigger("gamepadconnected");
                    window.clearInterval(checkGP);
                }
            }, 500);
        }

    });
    function increase() {
        if (i == 4) {
            i = 1;
        }
        else {
            i++;
        }
        temp = "brand" + i;
        brand = document.getElementById(temp);
        textarea.value = brand.innerHTML;
        console.log(i);
    }
    function decrease() {
        if (i == 1) {
            i = 4
        }
        else {
            i = i - 1;
        }
        temp = "brand" + i;
        brand = document.getElementById(temp);
        textarea.value = brand.innerHTML;
        console.log(i);
    }
    function evt() {

        speak();
        textarea.blur();
    }

</script>




</html